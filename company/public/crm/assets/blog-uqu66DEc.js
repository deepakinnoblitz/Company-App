import{l as C,j as e,s as w,U as I,A as k,L as S,B as c,I as u,T as b,E as g,r as h,p as v,P as A,M as O,q as B,t as f}from"./index-Co7v2xsC.js";import{P as T,_ as $}from"./_data-fwPoEhU9.js";import{C as _}from"./config-global-BX9xwJzv.js";import{C as z,D}from"./Card-CDV3jV6O.js";import{f as E}from"./format-time-9uMX-KY9.js";import{a as F}from"./format-number-DSNgsWBE.js";import{A as N,a as P}from"./Autocomplete-BIV6h0T7.js";import{T as G}from"./TextField-BmVWmDzd.js";import{I as M}from"./Select-B1EkSlUY.js";import{G as j}from"./Grid-BdmJn5bP.js";import"./LastPage-CUGiC0iB.js";import"./useFormControl-Cqn8lfES.js";import"./dayjs.min-C2542nnJ.js";import"./usePreviousProps-CVIlMhUg.js";import"./Popper-DDlcgFVJ.js";import"./Chip-Rg4Dn3a5.js";const R={root:C("svg__color__root")};function W({src:n,className:r,sx:o,...t}){return e.jsx(U,{className:I([R.root,r]),sx:[{mask:`url(${n}) no-repeat center / contain`,WebkitMask:`url(${n}) no-repeat center / contain`},...Array.isArray(o)?o:[o]],...t})}const U=w("span")(()=>({width:24,height:24,flexShrink:0,display:"inline-flex",backgroundColor:"currentColor"}));function V({sx:n,post:r,latestPost:o,latestPostLarge:t,...i}){const a=e.jsx(k,{alt:r.author.name,src:r.author.avatarUrl,sx:{left:24,zIndex:9,bottom:-24,position:"absolute",...(t||o)&&{top:24}}}),l=e.jsx(S,{color:"inherit",variant:"subtitle2",underline:"hover",sx:{height:44,overflow:"hidden",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical",...t&&{typography:"h5",height:60},...(t||o)&&{color:"common.white"}},children:r.title}),d=e.jsx(c,{sx:{mt:3,gap:1.5,display:"flex",flexWrap:"wrap",color:"text.disabled",justifyContent:"flex-end"},children:[{number:r.totalComments,icon:"solar:chat-round-dots-bold"},{number:r.totalViews,icon:"solar:eye-bold"},{number:r.totalShares,icon:"solar:share-bold"}].map((p,y)=>e.jsxs(c,{sx:{display:"flex",...(t||o)&&{opacity:.64,color:"common.white"}},children:[e.jsx(u,{width:16,icon:p.icon,sx:{mr:.5}}),e.jsx(b,{variant:"caption",children:F(p.number)})]},y))}),m=e.jsx(c,{component:"img",alt:r.title,src:r.coverUrl,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}}),x=e.jsx(b,{variant:"caption",component:"div",sx:{mb:1,color:"text.disabled",...(t||o)&&{opacity:.48,color:"common.white"}},children:E(r.postedAt)}),s=e.jsx(W,{src:"/assets/company/crm/assets/icons/shape-avatar.svg",sx:{left:0,width:88,zIndex:9,height:36,bottom:-16,position:"absolute",color:"background.paper",...(t||o)&&{display:"none"}}});return e.jsxs(z,{sx:n,...i,children:[e.jsxs(c,{sx:p=>({position:"relative",pt:"calc(100% * 3 / 4)",...(t||o)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:g(p.palette.grey["900Channel"],.72)}},...t&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}}),children:[s,a,m]}),e.jsxs(c,{sx:p=>({p:p.spacing(6,3,3,3),...(t||o)&&{width:1,bottom:0,position:"absolute"}}),children:[x,l,d]})]})}function q({options:n,sortBy:r,onSort:o,sx:t,...i}){var x;const[a,l]=h.useState(null),d=h.useCallback(s=>{l(s.currentTarget)},[]),m=h.useCallback(()=>{l(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(v,{disableRipple:!0,color:"inherit",onClick:d,endIcon:e.jsx(u,{icon:a?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),sx:[{bgcolor:s=>g(s.vars.palette.grey["500Channel"],.08)},...Array.isArray(t)?t:[t]],...i,children:(x=n.find(s=>s.value===r))==null?void 0:x.label}),e.jsx(A,{open:!!a,anchorEl:a,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(O,{disablePadding:!0,sx:{p:.5,gap:.5,width:160,display:"flex",flexDirection:"column",[`& .${f.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${f.selected}`]:{bgcolor:"action.selected"}}},children:n.map(s=>e.jsx(B,{selected:s.value===r,onClick:()=>{o(s.value),m()},children:s.label},s.value))})})]})}function H({posts:n,sx:r}){return e.jsx(N,{sx:{width:280},autoHighlight:!0,popupIcon:null,slotProps:{paper:{sx:{width:320,[`& .${P.option}`]:{typography:"body2"},...r}}},options:n,getOptionLabel:o=>o.title,isOptionEqualToValue:(o,t)=>o.id===t.id,renderInput:o=>e.jsx(G,{...o,placeholder:"Search post...",slotProps:{input:{...o.InputProps,startAdornment:e.jsx(M,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{ml:1,width:20,height:20,color:"text.disabled"}})})}}})})}function J({posts:n}){const[r,o]=h.useState("latest"),t=h.useCallback(i=>{o(i)},[]);return e.jsxs(D,{children:[e.jsxs(c,{sx:{mb:5,display:"flex",alignItems:"center"},children:[e.jsx(b,{variant:"h4",sx:{flexGrow:1},children:"Blog"}),e.jsx(v,{variant:"contained",color:"inherit",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"New post"})]}),e.jsxs(c,{sx:{mb:5,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(H,{posts:n}),e.jsx(q,{sortBy:r,onSort:t,options:[{value:"latest",label:"Latest"},{value:"popular",label:"Popular"},{value:"oldest",label:"Oldest"}]})]}),e.jsx(j,{container:!0,spacing:3,children:n.map((i,a)=>{const l=a===0,d=a===1||a===2;return e.jsx(j,{size:{xs:12,sm:l?12:6,md:l?6:3},children:e.jsx(V,{post:i,latestPost:d,latestPostLarge:l})},i.id)})}),e.jsx(T,{count:10,color:"primary",sx:{mt:8,mx:"auto"}})]})}function pe(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Blog - ${_.appName}`}),e.jsx(J,{posts:$})]})}export{pe as default};

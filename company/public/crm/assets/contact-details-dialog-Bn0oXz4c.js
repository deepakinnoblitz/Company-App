import{r as x,j as e,T as r,B as a,v as b,I as c,p as f,D as j}from"./index-Co7v2xsC.js";import{a as y}from"./contacts-Y516V3QZ.js";import{L as v}from"./label-BpZ9ieER.js";import"./styles-wAmuuHpw.js";import{D as C,a as w}from"./DialogContent-DtP-sWqR.js";import{D}from"./DialogTitle-C3eBZids.js";function _({open:i,onClose:o,contactId:t,onEdit:d}){const[s,p]=x.useState(null),[u,h]=x.useState(!1);return x.useEffect(()=>{i&&t?(h(!0),y(t).then(p).catch(n=>console.error("Failed to fetch contact details:",n)).finally(()=>h(!1))):p(null)},[i,t]),e.jsxs(C,{open:i,onClose:o,fullWidth:!0,maxWidth:"md",children:[e.jsxs(D,{sx:{m:0,p:2.5,display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"background.neutral"},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:800},children:"Contact Profile"}),e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx(b,{onClick:o,sx:{color:n=>n.palette.grey[500],bgcolor:"background.paper",boxShadow:n=>{var g;return(g=n.customShadows)==null?void 0:g.z1}},children:e.jsx(c,{icon:"mingcute:close-line"})})})]}),e.jsx(w,{sx:{p:4,m:2,mt:4},children:u?e.jsx(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:10},children:e.jsx(c,{icon:"svg-spinners:12-dots-scale-rotate",width:40,sx:{color:"primary.main"}})}):s?e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:5},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"flex-start",gap:2.5},children:[e.jsx(a,{sx:{width:64,height:64,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"primary.lighter",color:"primary.main"},children:e.jsx(c,{icon:"solar:user-circle-bold",width:32})}),e.jsxs(a,{sx:{flexGrow:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:.5},children:[e.jsxs(r,{variant:"h5",sx:{fontWeight:800},children:[s.first_name," ",s.last_name]}),d&&t&&e.jsx(f,{variant:"outlined",color:"primary",size:"small",startIcon:e.jsx(c,{icon:"solar:pen-bold",width:16}),onClick:()=>{d(t),o()},sx:{height:28,borderRadius:1,px:1.5,typography:"subtitle2",fontWeight:700,"&:hover":{boxShadow:n=>`0 0 0 2px ${n.palette.primary.lighter}`}},children:"Edit"})]}),e.jsxs(r,{variant:"body2",sx:{color:"text.secondary",fontWeight:600},children:[s.designation||"Contact"," at ",s.company_name]})]}),e.jsxs(a,{sx:{textAlign:"right"},children:[e.jsx(v,{variant:"soft",color:"secondary",children:"Contact"}),e.jsxs(r,{variant:"caption",sx:{display:"block",mt:1,color:"text.disabled",fontWeight:700},children:["ID: ",s.name]})]})]}),e.jsx(j,{sx:{borderStyle:"dashed"}}),e.jsxs(a,{children:[e.jsx(m,{title:"Contact Details",icon:"solar:info-circle-bold"}),e.jsxs(a,{sx:{display:"grid",gap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:[e.jsx(l,{label:"First Name",value:s.first_name,icon:"solar:user-bold"}),e.jsx(l,{label:"Company Name",value:s.company_name,icon:"solar:buildings-bold"}),e.jsx(l,{label:"Designation",value:s.designation,icon:"solar:letter-bold"}),e.jsx(l,{label:"Email",value:s.email,icon:"solar:letter-bold",color:"primary.main"}),e.jsx(l,{label:"Phone",value:s.phone,icon:"solar:phone-bold",color:"success.main"}),e.jsx(l,{label:"Source Lead",value:s.source_lead,icon:"solar:tag-horizontal-bold"}),e.jsx(l,{label:"Owner",value:s.owner,icon:"solar:user-rounded-bold"})]})]}),e.jsxs(a,{children:[e.jsx(m,{title:"Location",icon:"solar:map-point-bold"}),e.jsxs(a,{sx:{display:"grid",gap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:[e.jsx(l,{label:"Address",value:s.address,icon:"solar:home-bold",fullWidth:!0}),e.jsx(l,{label:"City",value:s.city,icon:"solar:city-bold"}),e.jsx(l,{label:"State",value:s.state,icon:"solar:point-on-map-bold"}),e.jsx(l,{label:"Country",value:s.country,icon:"solar:earth-bold"})]})]}),e.jsxs(a,{sx:{p:3,bgcolor:"background.neutral",borderRadius:2},children:[e.jsx(m,{title:"System Information",icon:"solar:clock-circle-bold",noMargin:!0}),e.jsxs(a,{sx:{mt:3,display:"grid",gap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[e.jsx(l,{label:"Created On",value:new Date(s.creation).toLocaleString(),icon:"solar:calendar-date-bold"}),e.jsx(l,{label:"Modified On",value:new Date(s.modified).toLocaleString(),icon:"solar:calendar-minimalistic-bold"})]})]})]}):e.jsxs(a,{sx:{py:10,textAlign:"center"},children:[e.jsx(c,{icon:"solar:ghost-bold",width:64,sx:{color:"text.disabled",mb:2}}),e.jsx(r,{variant:"h6",sx:{color:"text.secondary"},children:"No Profile Found"})]})})]})}function m({title:i,icon:o,noMargin:t=!1}){return e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mb:t?0:2.5},children:[e.jsx(c,{icon:o,width:20,sx:{color:"primary.main"}}),e.jsx(r,{variant:"subtitle1",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5},children:i})]})}function l({label:i,value:o,icon:t,color:d="text.primary",fullWidth:s}){return e.jsxs(a,{sx:s?{gridColumn:"1 / -1"}:{},children:[e.jsx(r,{variant:"caption",sx:{color:"text.disabled",fontWeight:700,textTransform:"uppercase",mb:.5,display:"block"},children:i}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(c,{icon:t,width:16,sx:{color:"text.disabled"}}),e.jsx(r,{variant:"body2",sx:{fontWeight:700,color:d},children:o||"-"})]})]})}export{_ as C};

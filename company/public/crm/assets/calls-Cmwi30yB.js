import{f as s,H as n}from"./index-Co7v2xsC.js";import{h as r}from"./api-error-handler-CV6pRVHb.js";import{h as i}from"./utils-CQVN1UoU.js";async function m(t,a){const e=[];t&&a&&e.push(["Calls","call_start_time","between",[t,a]]);const o=new URLSearchParams({doctype:"Calls",fields:JSON.stringify(["name","title","call_for","lead_name","contact_name","account_name","call_start_time","call_end_time","outgoing_call_status","call_purpose","call_agenda","color"]),filters:JSON.stringify(e),limit_page_length:"1000",order_by:"call_start_time asc"}),l=await s(`/api/method/frappe.client.get_list?${o.toString()}`);return(await i(l)).message}async function h(t){const a=await n(),e=await s("/api/method/frappe.client.insert",{method:"POST",headers:a,body:JSON.stringify({doc:{doctype:"Calls",...t}})});if(!e.ok){const o=await e.json();throw new Error(r(o,"Failed to create call"))}}async function w(t,a){const e=await n(),o=await s("/api/method/frappe.client.set_value",{method:"POST",headers:e,body:JSON.stringify({doctype:"Calls",name:t,fieldname:a})});if(!o.ok){const l=await o.json();throw new Error(r(l,"Failed to update call"))}}async function _(t){const a=await n(),e=await s("/api/method/frappe.client.delete",{method:"POST",headers:a,body:JSON.stringify({doctype:"Calls",name:t})});if(!e.ok){const o=await e.json();throw new Error(r(o,"Failed to delete call"))}}async function y(t){const a=await s(`/api/method/frappe.client.get?doctype=Calls&name=${t}`);if(!a.ok)throw new Error("Failed to fetch call details");return(await a.json()).message}export{h as c,_ as d,m as f,y as g,w as u};

import{r as i,a as w,g as D,ba as _,u as M,j as n,s as F,c as U,G as z,b as E,a2 as q,m as A,d as T,a5 as H,q as J,p as P,$ as K}from"./index-Co7v2xsC.js";import{e as Q}from"./invoice-CmnDHtbD.js";import{D as X,a as L}from"./DialogContent-DtP-sWqR.js";import{D as Y}from"./DialogTitle-C3eBZids.js";import{T as N}from"./TextField-BmVWmDzd.js";import{D as Z}from"./DialogActions-h_2rRG3x.js";function tt(t){return i.Children.toArray(t).filter(e=>i.isValidElement(e))}function et(t){return D("MuiToggleButton",t)}const m=w("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),I=i.createContext({}),V=i.createContext(void 0);function at(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const ot=t=>{const{classes:e,fullWidth:s,selected:p,disabled:d,size:g,color:B}=t,u={root:["root",p&&"selected",d&&"disabled",s&&"fullWidth",`size${z(g)}`,B]};return E(u,et,e)},rt=F(q,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[`size${z(s.size)}`]]}})(A(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${m.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:T(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${m.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:T(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:T(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:T(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(H()).map(([e])=>({props:{color:e},style:{[`&.${m.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:T(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:T(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:T(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),ft=i.forwardRef(function(e,s){const{value:p,...d}=i.useContext(I),g=i.useContext(V),B=_({...d,selected:at(e.value,p)},e),u=M({props:B,name:"MuiToggleButton"}),{children:y,className:b,color:c="standard",disabled:C=!1,disableFocusRipple:f=!1,fullWidth:r=!1,onChange:$,onClick:o,selected:x,size:S="medium",value:h,...G}=u,R={...u,color:c,disabled:C,disableFocusRipple:f,fullWidth:r,size:S},W=ot(R),k=l=>{o&&(o(l,h),l.defaultPrevented)||$&&$(l,h)},v=g||"";return n.jsx(rt,{className:U(d.className,W.root,b,v),disabled:C,focusRipple:!f,ref:s,onClick:k,onChange:$,value:h,ownerState:R,"aria-pressed":x,...G,children:y})});function st(t){return D("MuiToggleButtonGroup",t)}const a=w("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),lt=t=>{const{classes:e,orientation:s,fullWidth:p,disabled:d}=t,g={root:["root",s,p&&"fullWidth"],grouped:["grouped",`grouped${z(s)}`,d&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return E(g,st,e)},nt=F("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${a.grouped}`]:e.grouped},{[`& .${a.grouped}`]:e[`grouped${z(s.orientation)}`]},{[`& .${a.firstButton}`]:e.firstButton},{[`& .${a.lastButton}`]:e.lastButton},{[`& .${a.middleButton}`]:e.middleButton},e.root,s.orientation==="vertical"&&e.vertical,s.fullWidth&&e.fullWidth]}})(A(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${a.grouped}`]:{[`&.${a.selected} + .${a.grouped}.${a.selected}`]:{borderTop:0,marginTop:0}},[`& .${a.firstButton},& .${a.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${a.lastButton},& .${a.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${a.lastButton}.${m.disabled},& .${a.middleButton}.${m.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${a.grouped}`]:{[`&.${a.selected} + .${a.grouped}.${a.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${a.firstButton},& .${a.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${a.lastButton},& .${a.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${a.lastButton}.${m.disabled},& .${a.middleButton}.${m.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),xt=i.forwardRef(function(e,s){const p=M({props:e,name:"MuiToggleButtonGroup"}),{children:d,className:g,color:B="standard",disabled:u=!1,exclusive:y=!1,fullWidth:b=!1,onChange:c,orientation:C="horizontal",size:f="medium",value:r,...$}=p,o={...p,disabled:u,fullWidth:b,orientation:C,size:f},x=lt(o),S=i.useCallback((v,l)=>{if(!c)return;const O=r&&r.indexOf(l);let j;r&&O>=0?(j=r.slice(),j.splice(O,1)):j=r?r.concat(l):[l],c(v,j)},[c,r]),h=i.useCallback((v,l)=>{c&&c(v,r===l?null:l)},[c,r]),G=i.useMemo(()=>({className:x.grouped,onChange:y?h:S,value:r,size:f,fullWidth:b,color:B,disabled:u}),[x.grouped,y,h,S,r,f,b,B,u]),R=tt(d),W=R.length,k=v=>{const l=v===0,O=v===W-1;return l&&O?"":l?x.firstButton:O?x.lastButton:x.middleButton};return n.jsx(nt,{role:"group",className:U(x.root,g),ref:s,ownerState:o,...$,children:n.jsx(I.Provider,{value:G,children:R.map((v,l)=>n.jsx(V.Provider,{value:k(l),children:v},l))})})});function vt({open:t,onClose:e,onSuccess:s,initialName:p=""}){const[d,g]=i.useState(p),[B,u]=i.useState(0),[y,b]=i.useState("GST"),[c,C]=i.useState(!1),[f,r]=i.useState(null),$=async()=>{if(!d){r("Tax Name is required");return}try{C(!0),r(null);const x=await Q({tax_name:d,tax_percentage:B,tax_type:y});s(x),e(),g(""),u(0),b("IGST")}catch(o){r(o.message||"Failed to create tax type")}finally{C(!1)}};return n.jsxs(X,{open:t,onClose:e,fullWidth:!0,maxWidth:"xs",children:[n.jsx(Y,{children:"Create New Tax Type"}),n.jsxs(L,{sx:{pt:1},children:[n.jsx(N,{fullWidth:!0,label:"Tax Name",value:d,onChange:o=>g(o.target.value),margin:"normal",error:!!f&&!d,placeholder:"e.g. GST@18%"}),n.jsx(N,{fullWidth:!0,type:"number",label:"Tax Percentage",value:B,onChange:o=>u(Number(o.target.value)),margin:"normal",InputProps:{inputProps:{min:0,max:100}}}),n.jsx(N,{fullWidth:!0,select:!0,label:"Tax Type",value:y,onChange:o=>b(o.target.value),margin:"normal",children:["GST","IGST"].map(o=>n.jsx(J,{value:o,children:o},o))}),f&&n.jsx(L,{sx:{color:"error.main",typography:"caption",px:0,pb:0},children:f})]}),n.jsxs(Z,{children:[n.jsx(P,{onClick:e,color:"inherit",children:"Cancel"}),n.jsx(P,{onClick:$,variant:"contained",disabled:c,children:c?n.jsx(K,{size:24}):"Create"})]})]})}export{xt as T,ft as a,vt as b};

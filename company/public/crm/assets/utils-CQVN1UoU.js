import{ac as o,ad as a}from"./index-Co7v2xsC.js";async function g(n){if(n.ok)return n.json();let e="Something went wrong";try{const s=await n.json();if(o(s))a(),e="Session expired - Please log in again";else if(s._server_messages){const r=JSON.parse(s._server_messages);r.length>0&&(e=JSON.parse(r[0]).message||e)}else if(s.exception){const r=s.exception,t=r.indexOf(":");t!==-1?e=r.substring(t+1).trim():e=r}else s.message&&(e=s.message)}catch{e=n.statusText||e}throw new Error(e)}export{g as h};
